# 商品管理UI 仕様書 (簡易版)

## 1. 概要

このドキュメントは、実装済みの商品管理APIを利用して作成するStreamlit WebアプリケーションのUI仕様を定義します。
APIの制約（商品一覧取得機能がない）を考慮し、在庫管理担当者が日常業務で直感的に使える、シンプルで実用的なUIを設計します。

**目標ユーザー**: PC操作に不慣れな商品在庫管理の担当者
**開発期間**: 20分

---

## 2. 画面設計

Streamlitの機能を活かし、画面遷移のない単一ページの構成とします。
画面は「**操作エリア（サイドバー）**」と「**結果表示エリア（メイン画面）**」に明確に分割します。

### **画面構成: シングルページアプリケーション**

#### ① 操作エリア (サイドバー - `st.sidebar`)

画面の左側に、ユーザーが行うアクションをまとめます。

-   **商品登録フォーム**
    -   **目的**: 新しい商品をシステムに登録する。
    -   **UIコンポーネント**:
        -   `st.text_input`: **商品名**を入力。プレースホルダーに「例：りんごジュース」と表示。
        -   `st.number_input`: **価格**を入力。最小値は1に設定し、不正な値の入力を防ぐ。
        -   `st.button`: 「商品を登録する」ボタン。クリックすると`POST /items` APIを呼び出す。

-   **商品検索フォーム**
    -   **目的**: IDを元に特定の商品情報を確認する。
    -   **UIコンポーネント**:
        -   `st.number_input`: **商品ID**を入力。ステップを1に設定。
        -   `st.button`: 「商品を検索する」ボタン。クリックすると`GET /items/{id}` APIを呼び出す。

#### ② 結果表示エリア (メイン画面)

サイドバーでの操作結果を、このエリアに分かりやすく表示します。

-   **初期表示**:
    -   「左のメニューから操作を選択してください」といった案内メッセージを表示。
-   **操作後の表示**:
    -   **フィードバックメッセージ**:
        -   成功時: `st.success("✅ 商品を登録しました！")` のように、操作が成功したことを伝える。
        -   失敗時: `st.error("❌ 商品が見つかりませんでした。")` のように、何が起きたかを伝える。
    -   **商品詳細**:
        -   APIから返却された商品情報を`st.json`や`st.subheader`で見やすく整形して表示する。（ID, 名前, 価格, 作成日時）

---

## 3. ユーザーフロー

### **ケース1: 新しい商品を登録する**

1.  ユーザーはサイドバーの「商品登録フォーム」に商品名と価格を入力する。
2.  「商品を登録する」ボタンをクリックする。
3.  アプリは`POST /items` APIを呼び出す。
4.  メイン画面に「✅ 商品を登録しました！」という成功メッセージが表示される。
5.  続けて、登録された商品の詳細（ID、名前、価格、作成日時）がメイン画面に表示される。
    -   これにより、ユーザーは払い出された**商品ID**を確認できる。

### **ケース2: 既存の商品を検索する**

1.  ユーザーはサイドバーの「商品検索フォーム」に、調べたい商品のIDを入力する。
2.  「商品を検索する」ボタンをクリックする。
3.  アプリは`GET /items/{id}` APIを呼び出す。
4.  **商品が見つかった場合**:
    -   メイン画面に商品の詳細情報が表示される。
5.  **商品が見つからなかった場合**:
    -   メイン画面に「❌ 商品が見つかりませんでした。」というエラーメッセージが表示される。

---

## 4. 使いやすさ向上のための工夫

-   **ローディング表示**: API通信中には`st.spinner("処理中です...")`を表示し、ユーザーに待ち時間が発生していることを伝える。
-   **入力値のクリア**: 商品登録が成功した後、フォームの入力内容を空にする。これにより、連続して商品を登録しやすくなる。

---

## 5. 実装範囲外（スコープアウト）

今回の20分という実装時間を考慮し、以下の機能は実装しません。

-   **商品一覧の表示機能**: (対応するAPIエンドポイントが存在しないため)
-   **商品の編集・削除機能**: (同上)
-   **検索機能の高度化**: (名称でのあいまい検索など) 